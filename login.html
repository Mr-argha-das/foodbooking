<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Activities</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div style="padding-left:20px;padding-right:20px">
    <div class="wiki-container">
      <header>
        <nav>
          <ul>
            <li><a href="index.html" style="text-decoration: none;color:white">Menu</a></li>
            <!-- <li>Order</li>
              <li>customer</li> -->
            <!-- <li><a href="reviews.html" style="text-decoration: none;color:white">Reviews</a></li> -->
            <li><a href="login.html" style="text-decoration: none;color:white">Login</a></li>
            <li><a href="signup.html" style="text-decoration: none;color:white">Register</a></li>
            <!-- <li>Cart</li>
              <li>Payment</li>
              <li>Transaction</li> -->

          </ul>
        </nav>
      </header>
        </div>


        
            <div class="login-container">
                <form id="loginForm">
                    <h2>Login to Canteen Order</h2>
        
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" required>
        
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required>
        
                    <button type="button" onclick="postData()">Login</button>
                    <p style="margin-top:15px">New user ? <a href="signup.html" style="text-decoration: none;">Signup</a></p>
                </form>
            </div>
        
      </div>

    <script src="script.js"></script>
<script>
    function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    if (username && password) {
        // Perform login logic here (e.g., check credentials)
        alert(`Logged in as ${username}`);
    } else {
        alert('Please enter username and password.');
    }
}
</script>
 <script>
    function postData() {
      const url = 'http://localhost:8080/api/user/login';

      var email = document.getElementById('username').value;
      var password = document.getElementById('password').value;


      const data = {
        "email": email,
        "password": password
      };
      console.log(data)
      fetch(url, {
        method: 'POST',
        mode: "cors",
        headers: {
          'Content-Type': 'application/json',
          // Add any other headers if needed
        },
        body: JSON.stringify(data)
      })
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(result => {
          console.log('Post request successful:', result);
          // Do something with the result if needed
          alert('User Login done');
          navigateToNextPage();
        });
    }
 </script>
</body>

</html>